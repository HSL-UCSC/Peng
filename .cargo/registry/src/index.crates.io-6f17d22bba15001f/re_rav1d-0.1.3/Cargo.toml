# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.79"
name = "re_rav1d"
version = "0.1.3"
authors = [
    "Rav1d Developers",
    "Prossimo",
]
build = "build.rs"
exclude = [
    "*.c",
    "*.in",
    "meson*",
    "tests/",
    "doc/",
    "package/",
]
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Rust port of the dav1d AV1 decoder"
readme = "README.md"
license = "BSD-2-Clause"
repository = "https://github.com/memorysafety/rav1d"

[profile.checked-release]
opt-level = 2
codegen-units = 16
inherits = "dev"

[profile.dev]
panic = "abort"

[profile.opt-dev]
opt-level = 1
inherits = "dev"

[profile.release]
lto = "fat"
codegen-units = 1
panic = "abort"

[profile.release-with-debug]
debug = "line-tables-only"
inherits = "release"

[lib]
name = "re_rav1d"
crate-type = [
    "staticlib",
    "rlib",
]
path = "lib.rs"

[dependencies.assert_matches]
version = "1.5.0"

[dependencies.atomig]
version = "0.4.0"
features = ["derive"]

[dependencies.av-data]
version = "0.4.2"

[dependencies.bitflags]
version = "2.4.0"

[dependencies.cfg-if]
version = "1.0.0"

[dependencies.libc]
version = "0.2"

[dependencies.parking_lot]
version = "0.12.2"

[dependencies.paste]
version = "1.0.14"

[dependencies.raw-cpuid]
version = "11.0.1"

[dependencies.static_assertions]
version = "1"

[dependencies.strum]
version = "0.26"
features = ["derive"]

[dependencies.to_method]
version = "1.1.0"

[dependencies.zerocopy]
version = "0.7.32"
features = ["derive"]

[build-dependencies.cc]
version = "1.0.79"

[build-dependencies.nasm-rs]
version = "0.3"
features = ["parallel"]

[features]
asm = []
asm_arm64_dotprod = ["asm"]
asm_arm64_i8mm = ["asm"]
bitdepth_16 = []
bitdepth_8 = []
default = [
    "asm",
    "asm_arm64_dotprod",
    "asm_arm64_i8mm",
    "bitdepth_8",
    "bitdepth_16",
]
